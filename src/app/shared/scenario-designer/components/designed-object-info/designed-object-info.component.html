@if (selectedObject) {
  <mat-card class="info-panel">
    <h3 class="info-panel-title">
      Selected {{ selectedObject.type === 'emitter' ? 'Emitter' : 'Listener' }}
    </h3>

    @if (selectedObject.type === 'listener') {
      <div class="info-row">
        <strong>Position:</strong><br />
        X: {{ selectedObject.data.position.x.toFixed(2) }}, Y:
        {{ selectedObject.data.position.y.toFixed(2) }}, Z:
        {{ selectedObject.data.position.z.toFixed(2) }}
      </div>
      <div class="info-row">
        <strong>Rotation:</strong> {{ selectedObject.data.rotation.toFixed(2) }}Â°
      </div>
    }

    @if (selectedObject.type === 'emitter') {
      <div class="info-row">
        <strong>Start Point (t={{ selectedObject.data.startTime }}s):</strong><br />
        X: {{ selectedObject.data.startPoint.x.toFixed(2) }}, Y:
        {{ selectedObject.data.startPoint.y.toFixed(2) }}, Z:
        {{ selectedObject.data.startPoint.z.toFixed(2) }}
      </div>

      @if (selectedObject.data.endPoint) {
        <div class="info-row">
          <strong>End Point (t={{ selectedObject.data.endTime ?? 'End' }}s):</strong><br />
          X: {{ selectedObject.data.endPoint.x.toFixed(2) }}, Y:
          {{ selectedObject.data.endPoint.y.toFixed(2) }}, Z:
          {{ selectedObject.data.endPoint.z.toFixed(2) }}
        </div>
      } @else {
        <div class="info-row"><strong>Movement:</strong> Static</div>
      }

      <div class="info-row">
        <strong>Audio:</strong>
        <span class="break-word">{{ selectedObject.data.audioFileUri || 'None' }}</span>
      </div>
    }

    @if (!editMode) {
      <div class="actions-container">
        <button mat-stroked-button color="warn" class="full-width" (click)="onDelete()">
          Delete {{ selectedObject.type | titlecase }}
        </button>
        <button mat-stroked-button color="primary" class="full-width" (click)="onEdit()">
          Edit {{ selectedObject.type | titlecase }}
        </button>
      </div>
    }
  </mat-card>
}

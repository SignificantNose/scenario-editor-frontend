<div class="auth-page">
  <mat-card class="auth-card">
    <h2 class="auth-title">Authorization</h2>

    <form [formGroup]="form" class="auth-form">
      <mat-form-field appearance="fill" class="auth-field">
        <mat-label>Login</mat-label>
        <input matInput autocomplete="off" formControlName="login" />
        @if (form.get('login')?.invalid) {
          <mat-error>Enter your login</mat-error>
        }
      </mat-form-field>

      <mat-form-field appearance="fill" class="auth-field">
        <mat-label>Password</mat-label>
        <input
          matInput
          autocomplete="off"
          formControlName="password"
          [type]="hidePassword ? 'password' : 'text'"
        />
        <button
          mat-icon-button
          matSuffix
          (click)="hidePassword = !hidePassword"
          [attr.aria-label]="'Toggle password visibility'"
          [attr.aria-pressed]="!hidePassword"
        >
          <mat-icon>{{ hidePassword ? 'visibility_off' : 'visibility' }}</mat-icon>
        </button>
        @if (form.get('password')?.invalid) {
          <mat-error>Enter your password</mat-error>
        }
      </mat-form-field>

      <button
        mat-raised-button
        color="primary"
        class="auth-button"
        (click)="login()"
        [disabled]="form.invalid || loading"
      >
        Log In
      </button>

      <div class="auth-divider">OR</div>

      <button
        mat-raised-button
        class="google-auth-button"
        (click)="loginWithGoogle()"
        [disabled]="loading"
      >
        <mat-icon>lock</mat-icon>
        Log in with Google
      </button>

      <div class="auth-sign-up-link">
        Don't have an account?
        <a (click)="goToSignUp()">Sign up here</a>
      </div>
    </form>
  </mat-card>
</div>
